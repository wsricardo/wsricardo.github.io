<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WSRicardo</title>

  <!-- Layout baseado no index.html original (estrutura simples, coluna única) -->
  <style>
    :root{
      --bg: #fafafa;
      --text: #1f2933;
      --muted: #6b7280;
      --accent: #2f4f6f;
      --border: #e5e7eb;
      --max: 900px;
      font-family: Georgia, "Times New Roman", serif;
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      line-height:1.65;
    }

    header{
      border-bottom:1px solid var(--border);
      background:#fff;
    }

    header .wrap{
      max-width:var(--max);
      margin:0 auto;
      padding:24px 16px;
    }

    header h1{
      margin:0 0 6px 0;
      font-size:1.9rem;
      color:var(--accent);
    }

    header p{
      margin:0;
      color:var(--muted);
      font-size:0.95rem;
    }

    nav{
      margin-top:14px;
      display:flex;
      gap:16px;
      flex-wrap:wrap;
    }

    nav a{
      text-decoration:none;
      color:var(--accent);
      font-weight:600;
    }

    nav a:hover{ text-decoration:underline; }

    main{
      max-width:var(--max);
      margin:0 auto;
      padding:28px 16px 40px 16px;
    }

    section{ margin-bottom:40px; }

    h2{
      font-size:1.4rem;
      margin-bottom:10px;
      color:var(--accent);
    }

    h3{
      font-size:1.1rem;
      margin-bottom:8px;
    }

    .intro{
      font-size:1.05rem;
      color:var(--text);
    }

    /* Postagens recentes */
    #recent-posts ul{
      list-style:none;
      padding:0;
      margin:0;
    }

    #recent-posts li{
      padding:12px 0;
      border-bottom:1px solid var(--border);
    }

    #recent-posts li:last-child{ border-bottom:none; }

    #recent-posts a{
      color:var(--text);
      font-weight:600;
    }

    #recent-posts time{
      display:block;
      font-size:0.85rem;
      color:var(--muted);
      margin-top:2px;
    }

    footer{
      border-top:1px solid var(--border);
      background:#fff;
    }

    footer .wrap{
      max-width:var(--max);
      margin:0 auto;
      padding:20px 16px;
      font-size:0.9rem;
      color:var(--muted);
    }

    @media (max-width:600px){
      header h1{ font-size:1.6rem; }
      nav{ gap:12px; }
    }
  </style>
</head>
<body>

<header>
  <div class="wrap">
    <h1>WSRicardo</h1>
    <p>Escritos, projetos e arte — matemática, tecnologia e criação.</p>

    <nav aria-label="principal">
      <a href="blog.html">Blog WSRicardo</a>
      <a href="projetos.html">Projetos</a>
      <a href="galeria.html">Galeria Artes</a>
    </nav>
  </div>
</header>

<main>
  <section>
    <h2>Apresentação</h2>
    <p class="intro">
      Este site reúne textos, estudos, experimentos e trabalhos artísticos. O layout foi mantido simples e leve,
      priorizando leitura confortável, clareza visual e boa adaptação a dispositivos móveis.
    </p>
  </section>

  <section>
    <h2>Postagens recentes</h2>
    <div id="recent-posts">
      <p class="muted">Carregando postagens do blog…</p>
      <ul aria-live="polite"></ul>
    </div>
  </section>

  <section>
    <h2>Navegação</h2>
    <p>
      Utilize os links acima para acessar o <strong>Blog</strong>, conhecer os <strong>Projetos</strong>
      ou explorar a <strong>Galeria de Artes</strong>.
    </p>
  </section>
</main>

<footer>
  <div class="wrap">
    © WSRicardo — layout simples e responsivo, gerado com Pelican + HTML estático.
  </div>
</footer>

<script>
  // Feed RSS/Atom gerado pelo Pelican
  const FEED_URL = 'https://wsricardo.github.io/articles/feeds/all.rss.xml';
  const MAX_POSTS = 5;

  async function loadFeed(){
    const list = document.querySelector('#recent-posts ul');
    list.innerHTML = '';
    try{
      const res = await fetch(FEED_URL);
      if(!res.ok) throw new Error('Erro ao buscar feed');
      const xml = await res.text();
      const doc = new DOMParser().parseFromString(xml, 'application/xml');
      const items = doc.querySelectorAll('item, entry');

      let count = 0;
      items.forEach(item => {
        if(count >= MAX_POSTS) return;
        const title = item.querySelector('title')?.textContent || 'Sem título';
        const link = item.querySelector('link')?.textContent || item.querySelector('link')?.getAttribute('href') || '#';
        const date = item.querySelector('pubDate')?.textContent || item.querySelector('published')?.textContent;

        const li = document.createElement('li');
        li.innerHTML = `<a href="${link}" target="_blank" rel="noopener">${title}</a>` +
                       (date ? `<time>${new Date(date).toLocaleDateString()}</time>` : '');
        list.appendChild(li);
        count++;
      });

      if(count === 0){
        list.innerHTML = '<li>Nenhuma postagem encontrada.</li>';
      }
    }catch(e){
      list.innerHTML = '<li>Não foi possível carregar o feed do blog.</li>';
      console.warn(e);
    }
  }

  loadFeed();
</script>

</body>
</html>
